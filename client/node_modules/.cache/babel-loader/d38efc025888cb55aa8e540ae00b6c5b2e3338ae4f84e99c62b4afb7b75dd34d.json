{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rama_\\\\Desktop\\\\vicky uni\\\\Henrry Prep Course\\\\otrom2\\\\Brainly-Front\\\\client\\\\src\\\\Components\\\\UserCloudinary\\\\UserCloudinary.jsx\",\n  _s = $RefreshSig$();\n// import React, { useState } from \"react\";\n// import axios from \"axios\";\n\n// function ImageUploader() {\n//   const [file, setFile] = useState(null);\n\n//   const handleFileUpload = (event) => {\n//     setFile(event.target.files[0]);\n//   };\n\n//   const handleImageUpload = async () => {\n//     const formData = new FormData();\n//     formData.append(\"file\", file);\n\n//     const response = await axios.post(\"http://localhost:5000/upload-image\", formData);\n\n//     console.log(response.data);\n//   };\n\n//   return (\n//     <div>\n//       <input type=\"file\" onChange={handleFileUpload} />\n//       <button onClick={handleImageUpload}>Cargar Imagen</button>\n//     </div>\n//   );\n// }\n\n// export default ImageUploader;\n\nimport React, { useState } from 'react';\nimport { Container, FormGroup, Input } from 'reactstrap';\nimport { Link, useNavigate } from 'react-router-dom';\nimport style from './UserCloudinary.module.css';\nimport brainly4 from '../../Assets/brainly4.jpg';\nimport NavBar from '../NavBar/NavBar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserCloudinary = props => {\n  _s();\n  const [image, setImage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [showConfirmation, setShowConfirmation] = useState(false);\n  const [formData, setFormData] = useState(null);\n  const navigate = useNavigate();\n  const uploadImage = async () => {\n    const res = await fetch(\"https://api.cloudinary.com/v1_1/brainlypf/image/upload\", {\n      method: \"POST\",\n      body: formData\n    });\n    const file = await res.json();\n    console.log(res);\n    setImage(file.secure_url);\n    setLoading(false);\n  };\n  const handleShowConfirmation = event => {\n    const files = event.target.files[0];\n    const data = new FormData();\n    data.append(\"file\", files);\n    data.append(\"upload_preset\", \"brainlyapp\");\n    setFormData(data);\n    const imageUrl = URL.createObjectURL(files);\n    setImage(imageUrl); //imagen previa\n    setShowConfirmation(true);\n    setLoading(true);\n    alert('Imagen cargada correctamente');\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.logoContainer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: style.title,\n        children: \"Carga de im\\xE1genes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        className: style.formGroup,\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          type: \"file\",\n          name: \"file\",\n          placeholder: \"Sube tu imagen aqu\\xED...\",\n          onChange: handleShowConfirmation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Cargando imagen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 14\n        }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n          src: image,\n          className: style.previewImage,\n          style: {\n            width: \"300px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 14\n        }, this), image && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: style.buttonDelete,\n          onClick: () => setImage(\"\"),\n          children: \"X\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 20\n        }, this), showConfirmation && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: style.buttonConfirmation,\n          onClick: uploadImage,\n          children: \"Confirmar carga\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n_s(UserCloudinary, \"iGY57wmRwNc0F4fCQFErzPQvkE4=\", false, function () {\n  return [useNavigate];\n});\n_c = UserCloudinary;\nexport default UserCloudinary;\nvar _c;\n$RefreshReg$(_c, \"UserCloudinary\");","map":{"version":3,"names":["React","useState","Container","FormGroup","Input","Link","useNavigate","style","brainly4","NavBar","jsxDEV","_jsxDEV","UserCloudinary","props","_s","image","setImage","loading","setLoading","showConfirmation","setShowConfirmation","formData","setFormData","navigate","uploadImage","res","fetch","method","body","file","json","console","log","secure_url","handleShowConfirmation","event","files","target","data","FormData","append","imageUrl","URL","createObjectURL","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","className","logoContainer","title","formGroup","type","name","placeholder","onChange","src","previewImage","width","buttonDelete","onClick","buttonConfirmation","_c","$RefreshReg$"],"sources":["C:/Users/rama_/Desktop/vicky uni/Henrry Prep Course/otrom2/Brainly-Front/client/src/Components/UserCloudinary/UserCloudinary.jsx"],"sourcesContent":["// import React, { useState } from \"react\";\r\n// import axios from \"axios\";\r\n\r\n// function ImageUploader() {\r\n//   const [file, setFile] = useState(null);\r\n\r\n//   const handleFileUpload = (event) => {\r\n//     setFile(event.target.files[0]);\r\n//   };\r\n\r\n//   const handleImageUpload = async () => {\r\n//     const formData = new FormData();\r\n//     formData.append(\"file\", file);\r\n\r\n//     const response = await axios.post(\"http://localhost:5000/upload-image\", formData);\r\n\r\n//     console.log(response.data);\r\n//   };\r\n\r\n//   return (\r\n//     <div>\r\n//       <input type=\"file\" onChange={handleFileUpload} />\r\n//       <button onClick={handleImageUpload}>Cargar Imagen</button>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default ImageUploader;\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport React, { useState } from 'react';\r\nimport { Container, FormGroup, Input } from 'reactstrap';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport style from './UserCloudinary.module.css';\r\nimport brainly4 from '../../Assets/brainly4.jpg';\r\nimport NavBar from '../NavBar/NavBar';\r\n\r\nconst UserCloudinary = (props) => {\r\n  const [image, setImage] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [showConfirmation, setShowConfirmation] = useState(false);\r\n  const [formData, setFormData] = useState(null)\r\n  const navigate = useNavigate();\r\n\r\n  const uploadImage = async () => {\r\n    const res = await fetch(\r\n      \"https://api.cloudinary.com/v1_1/brainlypf/image/upload\",\r\n      {\r\n        method: \"POST\",\r\n        body: formData,\r\n      }\r\n    )\r\n    const file = await res.json();\r\n    console.log(res)\r\n    setImage(file.secure_url)\r\n    setLoading(false)\r\n  }\r\n\r\n  const handleShowConfirmation = (event) => {\r\n    const files = event.target.files[0]\r\n    const data = new FormData()\r\n    data.append(\"file\", files)\r\n    data.append(\"upload_preset\", \"brainlyapp\");\r\n    setFormData(data)\r\n    const imageUrl = URL.createObjectURL(files)\r\n    setImage(imageUrl);//imagen previa\r\n    setShowConfirmation(true);\r\n    setLoading(true);\r\n    alert('Imagen cargada correctamente')    \r\n    setLoading(false)\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <NavBar/>\r\n      \r\n      <Container>\r\n        <div className={style.logoContainer}>\r\n\r\n        </div>\r\n        <h1 className={style.title}>\r\n          Carga de imágenes\r\n        </h1>\r\n        <FormGroup className={style.formGroup}>\r\n          <Input\r\n            type=\"file\"\r\n            name=\"file\"\r\n            placeholder=\"Sube tu imagen aquí...\"\r\n            onChange={handleShowConfirmation}>\r\n          </Input>\r\n          {\r\n          loading \r\n          ? (<h3>Cargando imagen</h3>) \r\n          : (<img src={image} className={style.previewImage} style={{ width: \"300px\" }} />)\r\n          }\r\n          {\r\n          image && <button className={style.buttonDelete} onClick={() => setImage(\"\")}>X</button>\r\n          }\r\n          {\r\n          showConfirmation && (\r\n            <button className={style.buttonConfirmation} onClick={uploadImage}>Confirmar carga</button>\r\n          )\r\n          }\r\n        </FormGroup>\r\n      </Container>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default UserCloudinary;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}